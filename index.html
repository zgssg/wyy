<!DOCTYPE html>
<html lang="zh">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>网易云会员领取</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <div class="button-container">
    <p style="text-align: center">更新时间：2025年4月12日</p>
    <button class="btn" data-url="https://music.163.com/prime/m/gift-receive?p=L6nT3QCeR1IIMmDGdB5lVHkfu-eg5Vw05i8--Vzod-vCfsGwoL0JZEwfK3NDJvC-vRUyvY4_49kKG_vo6cnjBEWtqBRvw1bMp0DlMVg-F9g&d=nw7GPYRlsUdF1BABbughmQ">7天会员礼品卡</button>
    <p style="text-align: center">↓</p>
    <button class="btn" data-url="http://163cn.tv/DHLE4aU">88天黑胶会员(测试)</button>
    <p style="text-align: center">↓</p>
    <button class="btn" data-url="https://music.163.com/g/vip-trialcard/receive?p=bawd6tCp2BbYe3swfyungriQ38UviOW7ltiUHSffPzLm6a8F-Wac-5EvTR-SPSNhI5ogIP7fTIQ7YcRst0R2cT8hhV0w8ms0PplG5mDgRpM&d=iQD3Ep8g3yc7HYzEvzZNVg">超清母带7天体验卡</button>
    <p style="text-align: center">↓</p>
    <button class="btn" data-url="https://music.163.com/g/vip-trialcard/receive?p=VGuU__tK2yfsG42lLYCkyqxdpy6skjuriUFPleBloCqjg3aDLWXub_Tb-P3WwRTV3WRxsdCkUxf4pLivDVG2xSc35t3nvpxj7b-uf2ogwjs&d=w7_IbisV-gy-ywDyKliqSA">沉浸环绕声7天体验卡</button>
    <footer>
      -此项目由抖音<a href="https://v.douyin.com/H_WKh3r25Zw/" target="_blank" id="douyinLink">@挺好</a>提供服务-
    </footer>
  </div>

  <script>
    // 处理抖音链接点击事件
    document.getElementById('douyinLink').addEventListener('click', function(e) {
      e.preventDefault();
      
      const link = this.getAttribute('href');
      const packageName = 'com.ss.android.ugc.aweme';
      
      const userAgent = navigator.userAgent.toLowerCase();
      let appUrl;
      
      if (userAgent.indexOf('android') > -1) {
        appUrl = `intent://${new URL(link).host}${new URL(link).pathname}?${new URL(link).search.substring(1)}#Intent;scheme=${new URL(link).protocol.replace(':', '')};package=${packageName};end`;
      } else if (userAgent.indexOf('iphone') > -1 || userAgent.indexOf('ipad') > -1 || userAgent.indexOf('ipod') > -1) {
        appUrl = `snssdk1128://${new URL(link).host}${new URL(link).pathname}?${new URL(link).search.substring(1)}`;
      } else {
        appUrl = link;
      }
      
      window.location.href = appUrl;
      
      setTimeout(function() {
        alert('正在尝试打开抖音应用，如果应用没有自动打开，请检查浏览器设置或手动打开应用。');
      }, 1000);
      
      setTimeout(function() {
        if (document.visibilityState === 'visible') {
          console.log('应用打开失败，正在打开网站链接...');
          window.location.href = link;
        }
      }, 3000);
    });
    
    document.querySelectorAll('.btn').forEach(function(button) {
      button.addEventListener('click', function(e) {
        e.preventDefault();
        
        const link = this.getAttribute('data-url');
        
        const packageName = 'com.netease.cloudmusic';
        
        const userAgent = navigator.userAgent.toLowerCase();
        let appUrl;
        
        if (userAgent.indexOf('android') > -1) {
          appUrl = `intent://${new URL(link).host}${new URL(link).pathname}?${new URL(link).search.substring(1)}#Intent;scheme=${new URL(link).protocol.replace(':', '')};package=${packageName};end`;
        } else if (userAgent.indexOf('iphone') > -1 || userAgent.indexOf('ipad') > -1 || userAgent.indexOf('ipod') > -1) {
          appUrl = `orpheus://${new URL(link).host}${new URL(link).pathname}?${new URL(link).search.substring(1)}`;
        } else {
          appUrl = link;
        }
        
        const startTime = new Date().getTime();
        
        window.location.href = appUrl;
        
        setTimeout(function() {
          alert('正在尝试打开网易云音乐应用，如果应用没有自动打开，请检查浏览器设置或手动打开应用。');
        }, 1000);
        
        setTimeout(function() {
          if (document.visibilityState === 'visible') {
            console.log('应用打开失败，正在打开网站链接...');
            window.location.href = link;
          }
        }, 3000);
      });
    });
  </script>
</body>
</html>
